{"ast":null,"code":"import axios from \"axios\";\nconst CancelToken = axios.CancelToken; // This function allow you to make GET request to backend with params we need\n\nexport const getAmadeusData = params => {\n  // Destructuring params\n  const _params$keyword = params.keyword,\n        keyword = _params$keyword === void 0 ? \"\" : _params$keyword,\n        _params$page = params.page,\n        page = _params$page === void 0 ? 0 : _params$page,\n        _params$city = params.city,\n        city = _params$city === void 0 ? true : _params$city,\n        _params$airport = params.airport,\n        airport = _params$airport === void 0 ? true : _params$airport; // Checking for proper subType \n\n  const subTypeCheck = city && airport ? \"CITY,AIRPORT\" : city ? \"CITY\" : airport ? \"AIRPORT\" : \"\"; // Amadeus API require at least 1 character, so with this we can be sure that we can make this request\n\n  const searchQuery = keyword ? keyword : \"a\"; // This is extra tool for cancelation request, to avoid overload API \n\n  const source = CancelToken.source(); // GET request with all params we need\n\n  const out = axios.get(`/api/airports/?keyword=${searchQuery}&page=${page}&subType=${subTypeCheck}`, {\n    cancelToken: source.token\n  });\n  return {\n    out,\n    source\n  };\n};","map":{"version":3,"sources":["/home/boring/webdev/jsprojects/react/travelapp/amadeus-airport-city-search-mern/client/src/api/amadeus.api.js"],"names":["axios","CancelToken","getAmadeusData","params","keyword","page","city","airport","subTypeCheck","searchQuery","source","out","get","cancelToken","token"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,WAAW,GAAGD,KAAK,CAACC,WAA1B,C,CAEA;;AACA,OAAO,MAAMC,cAAc,GAAGC,MAAM,IAAI;AAEtC;AAFsC,0BAG0BA,MAH1B,CAG9BC,OAH8B;AAAA,QAG9BA,OAH8B,gCAGpB,EAHoB;AAAA,uBAG0BD,MAH1B,CAGhBE,IAHgB;AAAA,QAGhBA,IAHgB,6BAGT,CAHS;AAAA,uBAG0BF,MAH1B,CAGNG,IAHM;AAAA,QAGNA,IAHM,6BAGC,IAHD;AAAA,0BAG0BH,MAH1B,CAGOI,OAHP;AAAA,QAGOA,OAHP,gCAGiB,IAHjB,oBAKtC;;AACA,QAAMC,YAAY,GAAGF,IAAI,IAAIC,OAAR,GAAkB,cAAlB,GAAmCD,IAAI,GAAG,MAAH,GAAYC,OAAO,GAAG,SAAH,GAAe,EAA9F,CANsC,CAQtC;;AACA,QAAME,WAAW,GAAGL,OAAO,GAAGA,OAAH,GAAa,GAAxC,CATsC,CAWtC;;AACA,QAAMM,MAAM,GAAGT,WAAW,CAACS,MAAZ,EAAf,CAZsC,CActC;;AACA,QAAMC,GAAG,GAAGX,KAAK,CAACY,GAAN,CACT,0BAAyBH,WAAY,SAAQJ,IAAK,YAAWG,YAAa,EADjE,EAEV;AACEK,IAAAA,WAAW,EAAEH,MAAM,CAACI;AADtB,GAFU,CAAZ;AAOA,SAAO;AAAEH,IAAAA,GAAF;AAAOD,IAAAA;AAAP,GAAP;AACD,CAvBM","sourcesContent":["import axios from \"axios\";\n\nconst CancelToken = axios.CancelToken;\n\n// This function allow you to make GET request to backend with params we need\nexport const getAmadeusData = params => {\n\n  // Destructuring params\n  const { keyword = \"\", page = 0, city = true, airport = true } = params;\n\n  // Checking for proper subType \n  const subTypeCheck = city && airport ? \"CITY,AIRPORT\" : city ? \"CITY\" : airport ? \"AIRPORT\" : \"\"\n\n  // Amadeus API require at least 1 character, so with this we can be sure that we can make this request\n  const searchQuery = keyword ? keyword : \"a\";\n\n  // This is extra tool for cancelation request, to avoid overload API \n  const source = CancelToken.source();\n\n  // GET request with all params we need\n  const out = axios.get(\n    `/api/airports/?keyword=${searchQuery}&page=${page}&subType=${subTypeCheck}`,\n    {\n      cancelToken: source.token\n    }\n  )\n\n  return { out, source }\n};\n"]},"metadata":{},"sourceType":"module"}