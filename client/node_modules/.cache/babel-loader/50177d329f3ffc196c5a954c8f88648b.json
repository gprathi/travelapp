{"ast":null,"code":"import axios from\"axios\";var CancelToken=axios.CancelToken;// This function allow you to make GET request to backend with params we need\nexport var getAmadeusData=function getAmadeusData(params){// Destructuring params\nvar _params$keyword=params.keyword,keyword=_params$keyword===void 0?\"\":_params$keyword,_params$page=params.page,page=_params$page===void 0?0:_params$page,_params$city=params.city,city=_params$city===void 0?true:_params$city,_params$airport=params.airport,airport=_params$airport===void 0?true:_params$airport;// Checking for proper subType \nvar subTypeCheck=city&&airport?\"CITY,AIRPORT\":city?\"CITY\":airport?\"AIRPORT\":\"\";// Amadeus API require at least 1 character, so with this we can be sure that we can make this request\nvar searchQuery=keyword?keyword:\"a\";// This is extra tool for cancelation request, to avoid overload API \nvar source=CancelToken.source();// GET request with all params we need\nvar out=axios.get(\"/api/airports/?keyword=\".concat(searchQuery,\"&page=\").concat(page,\"&subType=\").concat(subTypeCheck),{cancelToken:source.token});return{out:out,source:source};};","map":{"version":3,"sources":["/home/boring/webdev/jsprojects/react/travelapp/amadeus-airport-city-search-mern/client/src/api/amadeus.api.js"],"names":["axios","CancelToken","getAmadeusData","params","keyword","page","city","airport","subTypeCheck","searchQuery","source","out","get","cancelToken","token"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,WAAW,CAAGD,KAAK,CAACC,WAA1B,CAEA;AACA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAAAC,MAAM,CAAI,CAEtC;AAFsC,oBAG0BA,MAH1B,CAG9BC,OAH8B,CAG9BA,OAH8B,0BAGpB,EAHoB,8BAG0BD,MAH1B,CAGhBE,IAHgB,CAGhBA,IAHgB,uBAGT,CAHS,2BAG0BF,MAH1B,CAGNG,IAHM,CAGNA,IAHM,uBAGC,IAHD,8BAG0BH,MAH1B,CAGOI,OAHP,CAGOA,OAHP,0BAGiB,IAHjB,iBAKtC;AACA,GAAMC,CAAAA,YAAY,CAAGF,IAAI,EAAIC,OAAR,CAAkB,cAAlB,CAAmCD,IAAI,CAAG,MAAH,CAAYC,OAAO,CAAG,SAAH,CAAe,EAA9F,CAEA;AACA,GAAME,CAAAA,WAAW,CAAGL,OAAO,CAAGA,OAAH,CAAa,GAAxC,CAEA;AACA,GAAMM,CAAAA,MAAM,CAAGT,WAAW,CAACS,MAAZ,EAAf,CAEA;AACA,GAAMC,CAAAA,GAAG,CAAGX,KAAK,CAACY,GAAN,kCACgBH,WADhB,kBACoCJ,IADpC,qBACoDG,YADpD,EAEV,CACEK,WAAW,CAAEH,MAAM,CAACI,KADtB,CAFU,CAAZ,CAOA,MAAO,CAAEH,GAAG,CAAHA,GAAF,CAAOD,MAAM,CAANA,MAAP,CAAP,CACD,CAvBM","sourcesContent":["import axios from \"axios\";\n\nconst CancelToken = axios.CancelToken;\n\n// This function allow you to make GET request to backend with params we need\nexport const getAmadeusData = params => {\n\n  // Destructuring params\n  const { keyword = \"\", page = 0, city = true, airport = true } = params;\n\n  // Checking for proper subType \n  const subTypeCheck = city && airport ? \"CITY,AIRPORT\" : city ? \"CITY\" : airport ? \"AIRPORT\" : \"\"\n\n  // Amadeus API require at least 1 character, so with this we can be sure that we can make this request\n  const searchQuery = keyword ? keyword : \"a\";\n\n  // This is extra tool for cancelation request, to avoid overload API \n  const source = CancelToken.source();\n\n  // GET request with all params we need\n  const out = axios.get(\n    `/api/airports/?keyword=${searchQuery}&page=${page}&subType=${subTypeCheck}`,\n    {\n      cancelToken: source.token\n    }\n  )\n\n  return { out, source }\n};\n"]},"metadata":{},"sourceType":"module"}